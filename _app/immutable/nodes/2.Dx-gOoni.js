import{a as S,t as R,d as Ie,c as we}from"../chunks/lgMO21Ug.js";import{i as ve}from"../chunks/BbF98w-M.js";import{j as xe,o as T,J as de,g as b,K as Se,L as ee,M as ae,N as U,p as L,at as H,O as ce,k as ue,P as $e,am as _e,G,au as Oe,av as Ce,al as Me,aw as De,m as Re,Z as he,ai as qe,a9 as pe,a3 as Le,B as re,ax as ze,i as Pe,ay as Be,az as Fe,af as He,aA as Je,aB as Ge,I as Ke,aC as Ue,E as Ve,aD as Ye,aE as We,ao as Xe,b as ge,aF as Ze,aG as Qe,ab as je,n as z,aH as ea,aI as aa,a8 as te,W as se,aJ as ra,ap as ta,t as B,x as I,y as w,s as me,aK as ye,aL as sa,aM as na,q as W,aN as ia,w as x,v as ke,e as la,D as J}from"../chunks/DucslvUb.js";import{c as oa,o as fa}from"../chunks/DEMCxWVJ.js";import{a as va,b as da,l as ca,c as ua,e as Z,s as Q}from"../chunks/BVB8UGAA.js";import{p as q,i as _a}from"../chunks/CzMp5uvr.js";function ha(e,a){return a}function pa(e,a,r,t){for(var s=[],n=a.length,i=0;i<n;i++)Ce(a[i].e,s,!0);var u=n>0&&s.length===0&&r!==null;if(u){var _=r.parentNode;Me(_),_.append(r),t.clear(),M(e,a[0].prev,a[n-1].next)}De(s,()=>{for(var g=0;g<n;g++){var h=a[g];u||(t.delete(h.k),M(e,h.prev,h.next)),Re(h.e,!u)}})}function ga(e,a,r,t,s,n=null){var i=e,u={flags:a,items:new Map,first:null};T&&de();var _=null,g=!1,h=he(()=>{var f=r();return Pe(f)?f:f==null?[]:_e(f)});xe(()=>{var f=b(h),v=f.length;if(g&&v===0)return;g=v===0;let o=!1;if(T){var l=i.data===Se;l!==(v===0)&&(i=ee(),ae(i),U(!1),o=!0)}if(T){for(var p=null,c,k=0;k<v;k++){if(L.nodeType===8&&L.data===qe){i=L,o=!0,U(!1);break}var d=f[k],m=t(d,k);c=Ee(L,u,p,null,d,m,k,s,a,r),u.items.set(m,c),p=c}v>0&&ae(ee())}if(!T){var A=pe;ma(f,u,i,s,a,(A.f&H)!==0,t,r)}n!==null&&(v===0?_?ce(_):_=ue(()=>n(i)):_!==null&&$e(_,()=>{_=null})),o&&U(!0),b(h)}),T&&(i=L)}function ma(e,a,r,t,s,n,i,u){var _=e.length,g=a.items,h=a.first,f=h,v,o=null,l=[],p=[],c,k,d,m;for(m=0;m<_;m+=1){if(c=e[m],k=i(c,m),d=g.get(k),d===void 0){var A=f?f.e.nodes_start:r;o=Ee(A,a,o,o===null?a.first:o.next,c,k,m,t,s,u),g.set(k,o),l=[],p=[],f=o.next;continue}if(ya(d,c,m),d.e.f&H&&ce(d.e),d!==f){if(v!==void 0&&v.has(d)){if(l.length<p.length){var y=p[0],E;o=y.prev;var N=l[0],$=l[l.length-1];for(E=0;E<l.length;E+=1)ne(l[E],y,r);for(E=0;E<p.length;E+=1)v.delete(p[E]);M(a,N.prev,$.next),M(a,o,N),M(a,$,y),f=y,o=$,m-=1,l=[],p=[]}else v.delete(d),ne(d,f,r),M(a,d.prev,d.next),M(a,d,o===null?a.first:o.next),M(a,o,d),o=d;continue}for(l=[],p=[];f!==null&&f.k!==k;)(n||!(f.e.f&H))&&(v??(v=new Set)).add(f),p.push(f),f=f.next;if(f===null)continue;d=f}l.push(d),o=d,f=d.next}if(f!==null||v!==void 0){for(var C=v===void 0?[]:_e(v);f!==null;)(n||!(f.e.f&H))&&C.push(f),f=f.next;var be=C.length;if(be>0){var Ne=null;pa(a,C,Ne,g)}}G.first=a.first&&a.first.e,G.last=o&&o.e}function ya(e,a,r,t){Oe(e.v,a),e.i=r}function Ee(e,a,r,t,s,n,i,u,_,g){var h=(_&Be)!==0,f=(_&Fe)===0,v=h?f?Le(s):re(s):s,o=_&ze?re(i):i,l={i:o,v,k:n,a:null,e:null,prev:r,next:t};try{return l.e=ue(()=>u(e,v,o,g),T),l.e.prev=r&&r.e,l.e.next=t&&t.e,r===null?a.first=l:(r.next=l,r.e.next=l.e),t!==null&&(t.prev=l,t.e.prev=l.e),l}finally{}}function ne(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,s=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==t;){var i=He(n);s.before(n),n=i}}function M(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function ka(e,a,r,t,s){var u;T&&de();var n=(u=a.$$slots)==null?void 0:u[r],i=!1;n===!0&&(n=a.children,i=!0),n===void 0||n(e,i?()=>t:t)}function Ae(e){var a,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(a=0;a<s;a++)e[a]&&(r=Ae(e[a]))&&(t&&(t+=" "),t+=r)}else for(r in e)e[r]&&(t&&(t+=" "),t+=r);return t}function Ea(){for(var e,a,r=0,t="",s=arguments.length;r<s;r++)(e=arguments[r])&&(a=Ae(e))&&(t&&(t+=" "),t+=a);return t}function Aa(e){return typeof e=="object"?Ea(e):e??""}function Ta(e){if(T){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;K(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var s=e.checked;K(e,"checked",null),e.checked=s}}};e.__on_r=r,Je(r),va()}}function K(e,a,r,t){var s=e.__attributes??(e.__attributes={});T&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Ge]=r),r==null?e.removeAttribute(a):typeof r!="string"&&ba(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var ie=new Map;function ba(e){var a=ie.get(e.nodeName);if(a)return a;ie.set(e.nodeName,a=[]);for(var r,t=e,s=Element.prototype;s!==t;){r=Ue(t);for(var n in r)r[n].set&&a.push(n);t=Ke(t)}return a}function j(e,a,r){var t=e.__className,s=Na(a,r);T&&e.className===s?e.__className=s:(t!==s||T&&e.className!==s)&&(a==null&&!r?e.removeAttribute("class"):e.className=s,e.__className=s)}function Na(e,a){return(e??"")+(a?" "+a:"")}const Ia=()=>performance.now(),O={tick:e=>requestAnimationFrame(e),now:()=>Ia(),tasks:new Set};function Te(){const e=O.now();O.tasks.forEach(a=>{a.c(e)||(O.tasks.delete(a),a.f())}),O.tasks.size!==0&&O.tick(Te)}function wa(e){let a;return O.tasks.size===0&&O.tick(Te),{promise:new Promise(r=>{O.tasks.add(a={c:e,f:r})}),abort(){O.tasks.delete(a)}}}function F(e,a){e.dispatchEvent(new CustomEvent(a))}function xa(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const a=e.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function le(e){const a={},r=e.split(";");for(const t of r){const[s,n]=t.split(":");if(!s||n===void 0)break;const i=xa(s.trim());a[i]=n.trim()}return a}const Sa=e=>e;function oe(e,a,r,t){var s=(e&Ze)!==0,n=(e&ea)!==0,i=s&&n,u=(e&aa)!==0,_=i?"both":s?"in":"out",g,h=a.inert,f=a.style.overflow,v,o;function l(){var m=pe,A=G;te(null),se(null);try{return g??(g=r()(a,(t==null?void 0:t())??{},{direction:_}))}finally{te(m),se(A)}}var p={is_global:u,in(){var m;if(a.inert=h,!s){o==null||o.abort(),(m=o==null?void 0:o.reset)==null||m.call(o);return}n||v==null||v.abort(),F(a,"introstart"),v=X(a,l(),o,1,()=>{F(a,"introend"),v==null||v.abort(),v=g=void 0,a.style.overflow=f})},out(m){if(!n){m==null||m(),g=void 0;return}a.inert=!0,F(a,"outrostart"),o=X(a,l(),v,0,()=>{F(a,"outroend"),m==null||m()})},stop:()=>{v==null||v.abort(),o==null||o.abort()}},c=G;if((c.transitions??(c.transitions=[])).push(p),s&&da){var k=u;if(!k){for(var d=c.parent;d&&d.f&Ve;)for(;(d=d.parent)&&!(d.f&Ye););k=!d||(d.f&We)!==0}k&&Xe(()=>{ge(()=>p.in())})}}function X(e,a,r,t,s){var n=t===1;if(Qe(a)){var i,u=!1;return je(()=>{if(!u){var c=a({direction:n?"in":"out"});i=X(e,c,r,t,s)}}),{abort:()=>{u=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(r==null||r.deactivate(),!(a!=null&&a.duration))return s(),{abort:z,deactivate:z,reset:z,t:()=>t};const{delay:_=0,css:g,tick:h,easing:f=Sa}=a;var v=[];if(n&&r===void 0&&(h&&h(0,1),g)){var o=le(g(0,1));v.push(o,o)}var l=()=>1-t,p=e.animate(v,{duration:_});return p.onfinish=()=>{var c=(r==null?void 0:r.t())??1-t;r==null||r.abort();var k=t-c,d=a.duration*Math.abs(k),m=[];if(d>0){var A=!1;if(g)for(var y=Math.ceil(d/16.666666666666668),E=0;E<=y;E+=1){var N=c+k*f(E/y),$=le(g(N,1-N));m.push($),A||(A=$.overflow==="hidden")}A&&(e.style.overflow="hidden"),l=()=>{var C=p.currentTime;return c+k*f(C/d)},h&&wa(()=>{if(p.playState!=="running")return!1;var C=l();return h(C,1-C),!0})}p=e.animate(m,{duration:d,fill:"forwards"}),p.onfinish=()=>{l=()=>t,h==null||h(t,1-t),s()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=z)},deactivate:()=>{s=z},reset:()=>{t===0&&(h==null||h(1,0))},t:()=>l()}}function $a(e,a,r=a){var t=ra();ca(e,"input",s=>{var n=s?e.defaultValue:e.value;if(n=V(e)?Y(n):n,r(n),t&&n!==(n=a())){var i=e.selectionStart,u=e.selectionEnd;e.value=n??"",u!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(u,e.value.length))}}),(T&&e.defaultValue!==e.value||ge(a)==null&&e.value)&&r(V(e)?Y(e.value):e.value),ta(()=>{var s=a();V(e)&&s===Y(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function V(e){var a=e.type;return a==="number"||a==="range"}function Y(e){return e===""?null:+e}var Oa=R('<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">'),Ca=R('<span class="material-icons-outlined icon svelte-y47uu9"> </span>');function D(e,a){let r=q(a,"name",8),t=q(a,"handler",8,()=>{}),s=q(a,"color",8,"green");var n=Ca();ua(u=>{var _=Oa();S(u,_)});var i=I(n,!0);w(n),B(()=>{K(n,"style",`--color:${s()??""};`),Q(i,r())}),Z("click",n,function(...u){var _;(_=t())==null||_.apply(this,u)}),S(e,n)}const Ma=e=>e;function fe(e,{delay:a=0,duration:r=400,easing:t=Ma}={}){const s=+getComputedStyle(e).opacity;return{delay:a,duration:r,easing:t,css:n=>`opacity: ${n*s}`}}var Da=R("<div><!></div>");function P(e,a){let r=q(a,"last",8,!1);var t=Da(),s=I(t);ka(s,a,"default",{}),w(t),B(()=>j(t,`cell ${(r()?"cell-last":"")??""}  svelte-dt9dq0`)),oe(1,t,()=>fe,()=>({duration:700})),oe(2,t,()=>fe,()=>({duration:350})),S(e,t)}var Ra=R("<span> </span>");function qa(e,a){let r=q(a,"prio",12,3),t=q(a,"disabled",8,!1);const s=_=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[_],n=()=>{r((r()+1)%3+1)};var i=Ra(),u=I(i,!0);w(i),B((_,g)=>{j(i,Aa(_),"svelte-evcnxc"),Q(u,g)},[()=>t()?"DISABILITATO":s(r()),()=>s(r())],he),Z("click",i,n),S(e,i)}var La=R('<input type="text" placeholder="inserisci il nuovo ToDo">'),za=R("<!> <!> <!> <!> <!>",1);function Pa(e,a){me(a,!1);let r=q(a,"todo",12),t=ye(r().priority);const s=oa(),n=()=>{r(r().done=!r().done,!0),u("update")},i=()=>{document.getElementById(r().id).blur(),u("update")},u=l=>{s("change",{type:l,id:r().id})};sa(()=>(la(r()),b(t)),()=>{r().priority!=b(t)&&(J(t,r().priority),u("update"))}),na(),ve();var _=za(),g=W(_);P(g,{children:(l,p)=>{ia();var c=Ie();B(()=>Q(c,r().id)),S(l,c)},$$slots:{default:!0}});var h=x(g,2);P(h,{children:(l,p)=>{var c=we(),k=W(c);{var d=A=>{D(A,{name:"circle",handler:n,color:"red"})},m=A=>{D(A,{name:"task_alt",handler:n})};_a(k,A=>{r().done==!1?A(d):A(m,!1)})}S(l,c)},$$slots:{default:!0}});var f=x(h,2);P(f,{children:(l,p)=>{var c=La();Ta(c),B(()=>{j(c,`todo-item-input-text ${(r().done==!0?"text-done":"")??""} svelte-vtnw04`),K(c,"id",r().id)}),$a(c,()=>r().task,k=>r(r().task=k,!0)),Z("change",c,i),S(l,c)},$$slots:{default:!0}});var v=x(f,2);P(v,{children:(l,p)=>{qa(l,{get disable(){return r().done},get prio(){return r().priority},set prio(c){r(r().priority=c,!0)},$$legacy:!0})},$$slots:{default:!0}});var o=x(v,2);P(o,{last:!0,children:(l,p)=>{D(l,{name:"delete_forever",color:"red",handler:()=>u("delete")})},$$slots:{default:!0}}),S(e,_),ke()}var Ba=R('<h1 class="app-title svelte-1gz8lq9">ToDos</h1> <div class="todo-list svelte-1gz8lq9"><div class="header svelte-1gz8lq9"><!></div> <div class="header svelte-1gz8lq9"><!></div> <div class="header svelte-1gz8lq9"><!></div> <div class="header svelte-1gz8lq9"><!></div> <div class="header header-last svelte-1gz8lq9"><!></div> <!></div>',1);function Fa(e,a){me(a,!1);let r=ye([]),t=0;fa(async()=>{for(let y=0;y<localStorage.length;y++){const E=localStorage.key(y),N=+E.substring(4);N>=t&&(t=N);const $=JSON.parse(localStorage.getItem(E));$!=null&&b(r).push($)}J(r,[...b(r)])});const s=async()=>{let y={id:++t,task:"",done:!1,priority:1};console.log("CREATE: ",y),localStorage.setItem("todo"+y.id,JSON.stringify(y)),J(r,[...b(r),y])},n=async y=>{switch(y.detail.type){case"update":i(y.detail.id);break;case"delete":u(y.detail.id);break}},i=y=>{console.log("UPDATE:",y);const E=b(r).filter(N=>N.id==y)[0];localStorage.setItem("todo"+y,JSON.stringify(E))},u=y=>{console.log("DELETE:",y),J(r,b(r).filter(E=>E.id!=y)),localStorage.removeItem("todo"+y)};ve();var _=Ba(),g=x(W(_),2),h=I(g),f=I(h);D(f,{name:"tag"}),w(h);var v=x(h,2),o=I(v);D(o,{name:"task_alt"}),w(v);var l=x(v,2),p=I(l);D(p,{name:"list"}),w(l);var c=x(l,2),k=I(c);D(k,{name:"schedule"}),w(c);var d=x(c,2),m=I(d);D(m,{name:"add_box",handler:s}),w(d);var A=x(d,2);ga(A,1,()=>b(r),ha,(y,E)=>{Pa(y,{get todo(){return b(E)},$$events:{change:n}})}),w(g),S(e,_),ke()}var Ha=R('<main class="svelte-jpakl"><!></main>');function Wa(e){var a=Ha(),r=I(a);Fa(r,{}),w(a),S(e,a)}export{Wa as component};
